(this["webpackJsonpsisapp-frontend"]=this["webpackJsonpsisapp-frontend"]||[]).push([[0],{66:function(e,t,n){e.exports=n(81)},71:function(e,t,n){},72:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),l=n.n(c),o=(n(71),n(72),n(120)),i=n(121),u=n(83),s=n(47),d=n(48),m=n(52),f=n(51),h=n(50),y=(n(76),n(17)),p=(n(77),n(26)),E=n(27),b=n(30),I=n(125),S=n(119),O=n(118),v=n(117),g=n(124),C=n(122),j=function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)({category:"",description:"",details:""}),i=Object(b.a)(o,2),u=i[0],s=i[1],d=function(){l(!1)},m=function(e){s(Object(E.a)(Object(E.a)({},u),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(g.a,{variant:"outlined",color:"primary",style:{margin:10},onClick:function(){l(!0)}},"Add New Stig Item"),r.a.createElement(I.a,{open:c,onClose:d},r.a.createElement(v.a,null,"Add New Stig Item"),r.a.createElement(O.a,null,r.a.createElement(C.a,{autoFocus:!0,fullWidth:!0,label:"Category",name:"category",value:u.category,onChange:m}),r.a.createElement(C.a,{fullWidth:!0,label:"Description",name:"description",value:u.description,onChange:m}),r.a.createElement(C.a,{fullWidth:!0,label:"Details",name:"details",value:u.Details,onChange:m})),r.a.createElement(S.a,null,r.a.createElement(g.a,{color:"secondary",onClick:d},"Cancel"),r.a.createElement(g.a,{color:"primary",onClick:function(){e.AddSundryItem(u),d()}},"Save"))))},T=function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)({category:"",description:"",details:""}),i=Object(b.a)(o,2),u=i[0],s=i[1],d=function(){l(!1)},m=function(e){s(Object(E.a)(Object(E.a)({},u),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(g.a,{color:"primary",size:"small",onClick:function(){s({category:e.sundryItem.category,description:e.sundryItem.description,details:e.sundryItem.details}),l(!0)}},"Edit"),r.a.createElement(I.a,{open:c,onClose:d},r.a.createElement(v.a,null,"Edit Sundry Item"),r.a.createElement(O.a,null,r.a.createElement(C.a,{autoFocus:!0,fullWidth:!0,label:"Category",name:"category",value:u.category,onChange:m}),r.a.createElement(C.a,{fullWidth:!0,label:"Description",name:"description",value:u.description,onChange:m}),r.a.createElement(C.a,{fullWidth:!0,label:"Details",name:"details",value:u.details,onChange:m})),r.a.createElement(S.a,null,r.a.createElement(g.a,{color:"secondary",onClick:d},"Cancel"),r.a.createElement(g.a,{color:"primary",onClick:function(){e.updateSundryItem(u,e.link),d()}},"Save"))))},k=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).fetchSundryItems=function(){fetch("api/sundryItems").then((function(e){return e.json()})).then((function(e){a.setState({SundryItems:e._embedded.sundryItems})})).catch((function(e){return console.error(e)}))},a.onDelClick=function(e){window.confirm("Are you sure to delete?")&&fetch(e,{method:"DELETE"}).then((function(e){y.b.success("Sundry Item deleted",{position:y.b.POSITION.BOTTOM_LEFT}),a.fetchSundryItems()})).catch((function(e){y.b.error("Error when deleting",{position:y.b.POSITION.BOTTOM_LEFT}),console.error(e)}))},a.state={SundryItems:[]},a}return Object(d.a)(n,[{key:"addSundryItem",value:function(e){var t=this;fetch("api/sundryItems",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t.fetchSundryItems()})).catch((function(e){return console.error(e)}))}},{key:"updateSundryItem",value:function(e,t){var n=this;fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){y.b.success("Changes saved",{position:y.b.POSITION.BOTTOM_LEFT}),n.fetchSundryItems()})).catch((function(e){return y.b.error("Error when saving",{position:y.b.POSITION.BOTTOM_LEFT})}))}},{key:"componentDidMount",value:function(){this.fetchSundryItems()}},{key:"render",value:function(){var e=this,t=[{Header:"Category",accessor:"category"},{Header:"Description",accessor:"description"},{Header:"Details",accessor:"details"},{sortable:!1,filterable:!1,width:100,accessor:"_links.self.href",Cell:function(t){var n=t.value,a=t.row;return r.a.createElement(T,{sundryItem:a,link:n,updateSundryItem:e.updateSundryItem,fetchSundryItems:e.fetchSundryItems})}},{id:"delbutton",sortable:!1,filterable:!1,width:100,accessor:"_links.self.href",Cell:function(t){var n=t.value;return r.a.createElement("button",{onClick:function(){e.onDelClick(n)}},"Delete")}}];return r.a.createElement("div",{className:"App"},r.a.createElement(j,{AddSundryItem:this.addSundryItem,fetchSundryItems:this.fetchSundryItems}),r.a.createElement(h.a,{data:this.state.SundryItems,columns:t,filterable:!0}),r.a.createElement(y.a,{autoClose:1500}))}}]),n}(a.Component);var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{position:"static",color:"default"},r.a.createElement(i.a,null,r.a.createElement(u.a,{variant:"h6",color:"inherit"},"SISApp (Stig Items Sample Application)"))),r.a.createElement(k,null))};l.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.be84095e.chunk.js.map