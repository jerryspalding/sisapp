{"ast":null,"code":"import _classCallCheck from\"/root/sisapp/sisapp-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/root/sisapp/sisapp-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/root/sisapp/sisapp-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/root/sisapp/sisapp-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{SERVER_URL}from'../constants.js';import ReactTable from\"react-table\";import'react-table/react-table.css';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import AddSundryItem from'./AddSundryItem';import EditSundryItem from'./EditSundryItem';var SundryItems=/*#__PURE__*/function(_Component){_inherits(SundryItems,_Component);var _super=_createSuper(SundryItems);function SundryItems(props){var _this;_classCallCheck(this,SundryItems);_this=_super.call(this,props);_this.fetchSundryItems=function(){fetch(SERVER_URL+'sundryItems').then(function(response){return response.json();}).then(function(responseData){_this.setState({SundryItems:responseData._embedded.sundryItems});}).catch(function(err){return console.error(err);});};_this.onDelClick=function(link){if(window.confirm('Are you sure to delete?')){fetch(link,{method:'DELETE'}).then(function(res){toast.success(\"Sundry Item deleted\",{position:toast.POSITION.BOTTOM_LEFT});_this.fetchSundryItems();}).catch(function(err){toast.error(\"Error when deleting\",{position:toast.POSITION.BOTTOM_LEFT});console.error(err);});}};_this.state={SundryItems:[]};return _this;}_createClass(SundryItems,[{key:\"addSundryItem\",value:// Add new SundryItem\nfunction addSundryItem(SundryItem){var _this2=this;fetch(SERVER_URL+'sundryItems',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(SundryItem)}).then(function(res){return _this2.fetchSundryItems();}).catch(function(err){return console.error(err);});}// Update sundryItem\n},{key:\"updateSundryItem\",value:function updateSundryItem(sundryItem,link){var _this3=this;fetch(link,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(sundryItem)}).then(function(res){toast.success(\"Changes saved\",{position:toast.POSITION.BOTTOM_LEFT});_this3.fetchSundryItems();}).catch(function(err){return toast.error(\"Error when saving\",{position:toast.POSITION.BOTTOM_LEFT});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchSundryItems();}},{key:\"render\",value:function render(){var _this4=this;var columns=[{Header:'Category',accessor:'category'},{Header:'Description',accessor:'description'},{Header:'Details',accessor:'details'},{sortable:false,filterable:false,width:100,accessor:'_links.self.href',Cell:function Cell(_ref){var value=_ref.value,row=_ref.row;return/*#__PURE__*/React.createElement(EditSundryItem,{sundryItem:row,link:value,updateSundryItem:_this4.updateSundryItem,fetchSundryItems:_this4.fetchSundryItems});}},{id:'delbutton',sortable:false,filterable:false,width:100,accessor:'_links.self.href',Cell:function Cell(_ref2){var value=_ref2.value;return/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_this4.onDelClick(value);}},\"Delete\");}}];return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(AddSundryItem,{AddSundryItem:this.addSundryItem,fetchSundryItems:this.fetchSundryItems}),/*#__PURE__*/React.createElement(ReactTable,{data:this.state.SundryItems,columns:columns,filterable:true}),/*#__PURE__*/React.createElement(ToastContainer,{autoClose:1500}));}}]);return SundryItems;}(Component);export default SundryItems;","map":{"version":3,"names":["React","Component","SERVER_URL","ReactTable","ToastContainer","toast","AddSundryItem","EditSundryItem","SundryItems","props","fetchSundryItems","fetch","then","response","json","responseData","setState","_embedded","sundryItems","catch","err","console","error","onDelClick","link","window","confirm","method","res","success","position","POSITION","BOTTOM_LEFT","state","SundryItem","headers","body","JSON","stringify","sundryItem","columns","Header","accessor","sortable","filterable","width","Cell","value","row","updateSundryItem","id","addSundryItem"],"sources":["/root/sisapp/sisapp-frontend/src/components/SundryItems.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport {SERVER_URL} from '../constants.js'\r\nimport ReactTable from \"react-table\";\r\nimport 'react-table/react-table.css';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport AddSundryItem from './AddSundryItem';\r\nimport EditSundryItem from './EditSundryItem';\r\n\r\n\r\nclass SundryItems extends Component {\r\n  constructor(props) {\r\n  super(props);\r\n  this.state = { SundryItems: [] };\r\n  }\r\n\r\n  fetchSundryItems = () => {\r\n    fetch(SERVER_URL + 'sundryItems')\r\n    .then((response) => response.json()) \r\n    .then((responseData) => { \r\n      this.setState({ \r\n        SundryItems: responseData._embedded.sundryItems,\r\n      }); \r\n    })\r\n    .catch(err => console.error(err)); \r\n  }\r\n\r\n// Delete SundryItem\r\nonDelClick = (link) => {\r\n  if (window.confirm('Are you sure to delete?')) {\r\n    fetch(link, {method: 'DELETE'})\r\n    .then(res => {\r\n      toast.success(\"Sundry Item deleted\", {\r\n        position: toast.POSITION.BOTTOM_LEFT\r\n      });\r\n      this.fetchSundryItems();\r\n    })\r\n    .catch(err => {\r\n      toast.error(\"Error when deleting\", {\r\n        position: toast.POSITION.BOTTOM_LEFT\r\n      });\r\n      console.error(err)\r\n    }) \r\n  } \r\n}\r\n\r\n// Add new SundryItem\r\naddSundryItem(SundryItem) {\r\n  fetch(SERVER_URL + 'sundryItems', \r\n    { method: 'POST', \r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(SundryItem)\r\n    })\r\n  .then(res => this.fetchSundryItems())\r\n  .catch(err => console.error(err))\r\n} \r\n \r\n// Update sundryItem\r\nupdateSundryItem(sundryItem, link) {\r\n  fetch(link, \r\n  { method: 'PUT', \r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(sundryItem)\r\n  })\r\n  .then(res => {\r\n    toast.success(\"Changes saved\", {\r\n      position: toast.POSITION.BOTTOM_LEFT\r\n    });\r\n    this.fetchSundryItems();\r\n  })\r\n  .catch(err => \r\n    toast.error(\"Error when saving\", {\r\n      position: toast.POSITION.BOTTOM_LEFT\r\n    }) \r\n  )\r\n}\r\n\r\ncomponentDidMount() {\r\n  this.fetchSundryItems();\r\n  }\r\n\r\n  render() {\r\n    const columns = [{\r\n      Header: 'Category',\r\n      accessor: 'category'\r\n    }, {\r\n      Header: 'Description',\r\n      accessor: 'description',\r\n    }, {\r\n      Header: 'Details',\r\n      accessor: 'details',\r\n    },\r\n    {\r\n      sortable: false,\r\n      filterable: false,\r\n      width: 100,      \r\n      accessor: '_links.self.href',\r\n      Cell: ({value, row}) => (<EditSundryItem sundryItem={row} link={value} updateSundryItem={this.updateSundryItem} fetchSundryItems={this.fetchSundryItems} />),\r\n    },\r\n    {\r\n      id: 'delbutton',\r\n      sortable: false,\r\n      filterable: false,\r\n      width: 100,\r\n      accessor: '_links.self.href',\r\n      Cell: ({value}) => (<button onClick={()=>{this.onDelClick(value)}}>Delete</button>)\r\n    }\r\n]\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <AddSundryItem AddSundryItem={this.addSundryItem} fetchSundryItems={this.fetchSundryItems} />\r\n\r\n        <ReactTable data={this.state.SundryItems} columns={columns} \r\n          filterable={true}/>\r\n        <ToastContainer autoClose={1500} /> \r\n      </div>\r\n      \r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default SundryItems;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}